import { S2Error } from "./error.js";
import { accountMetrics, basinMetrics, streamMetrics, } from "./generated/index.js";
export class S2Metrics {
    client;
    constructor(client) {
        this.client = client;
    }
    /**
     * Account-level metrics.
     *
     * @param args.set Metric set to return
     * @param args.start Optional start timestamp (Unix seconds)
     * @param args.end Optional end timestamp (Unix seconds)
     * @param args.interval Optional aggregation interval for timeseries sets
     */
    async account(args, options) {
        const response = await accountMetrics({
            client: this.client,
            query: args,
            ...options,
        });
        if (response.error) {
            throw new S2Error({
                message: response.error.message,
                code: response.error.code ?? undefined,
                status: response.response.status,
            });
        }
        return response.data;
    }
    /**
     * Basin-level metrics.
     *
     * @param args.basin Basin name
     * @param args.set Metric set to return
     * @param args.start Optional start timestamp (Unix seconds)
     * @param args.end Optional end timestamp (Unix seconds)
     * @param args.interval Optional aggregation interval for timeseries sets
     */
    async basin(args, options) {
        const response = await basinMetrics({
            client: this.client,
            path: args,
            query: args,
            ...options,
        });
        if (response.error) {
            throw new S2Error({
                message: response.error.message,
                code: response.error.code ?? undefined,
                status: response.response.status,
            });
        }
        return response.data;
    }
    /**
     * Stream-level metrics.
     *
     * @param args.basin Basin name
     * @param args.stream Stream name
     * @param args.set Metric set to return
     * @param args.start Optional start timestamp (Unix seconds)
     * @param args.end Optional end timestamp (Unix seconds)
     * @param args.interval Optional aggregation interval for timeseries sets
     */
    async stream(args, options) {
        const response = await streamMetrics({
            client: this.client,
            path: args,
            query: args,
            ...options,
        });
        if (response.error) {
            throw new S2Error({
                message: response.error.message,
                code: response.error.code ?? undefined,
                status: response.response.status,
            });
        }
        return response.data;
    }
}
//# sourceMappingURL=metrics.js.map