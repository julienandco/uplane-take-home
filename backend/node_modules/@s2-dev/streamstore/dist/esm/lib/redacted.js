export const redactedRegistry = new WeakMap();
const NodeInspectSymbol = Symbol.for("nodejs.util.inspect.custom");
export const proto = {
    toString() {
        return "<redacted>";
    },
    toJSON() {
        return "<redacted>";
    },
    [NodeInspectSymbol]() {
        return "<redacted>";
    },
};
export const make = (value) => {
    const redacted = Object.create(proto);
    redactedRegistry.set(redacted, value);
    return redacted;
};
export const value = (self) => {
    if (redactedRegistry.has(self)) {
        return redactedRegistry.get(self);
    }
    else {
        throw new Error("Unable to get redacted value");
    }
};
export const unsafeWipe = (self) => redactedRegistry.delete(self);
//# sourceMappingURL=redacted.js.map