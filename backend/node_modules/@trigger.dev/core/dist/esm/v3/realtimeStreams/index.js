import { getGlobal, registerGlobal } from "../utils/globals.js";
import { NoopRealtimeStreamsManager } from "./noopManager.js";
const API_NAME = "realtime-streams";
const NOOP_MANAGER = new NoopRealtimeStreamsManager();
export class RealtimeStreamsAPI {
    static _instance;
    constructor() { }
    static getInstance() {
        if (!this._instance) {
            this._instance = new RealtimeStreamsAPI();
        }
        return this._instance;
    }
    setGlobalManager(manager) {
        return registerGlobal(API_NAME, manager);
    }
    #getManager() {
        return getGlobal(API_NAME) ?? NOOP_MANAGER;
    }
    pipe(key, source, options) {
        return this.#getManager().pipe(key, source, options);
    }
    append(key, part, options) {
        return this.#getManager().append(key, part, options);
    }
}
//# sourceMappingURL=index.js.map